var noteMe = noteMe || {};
(function() {

    var makeRoute = function(jsr) {
        var urlMethod = jsr.url;
        jsr.type = jsr.method;
        delete(jsr.method);
        return {
            ajax: function(obj) {
                jsr.url = urlMethod.call({},obj?obj.urlParams:{});
                $.ajax($.extend(jsr,obj));
            }   
        };
    };
    
    noteMe.jsRoutes = {
        viewNote: makeRoute(#{jsRoute @NoteManager.viewNote(':id') /}),
        newNotebook: makeRoute(#{jsRoute @NoteManager.newNotebook() /}),
        saveNewNotebook: makeRoute(#{jsRoute @NoteManager.saveNewNotebook() /}),
        newNote: makeRoute(#{jsRoute @NoteManager.newNote() /}),
        saveNewNote: makeRoute(#{jsRoute @NoteManager.saveNewNote() /}),
        shareNote: makeRoute(#{jsRoute @Share.shareNote() /}),
        orderNotebooks: makeRoute(#{jsRoute @NoteManager.orderNotebooks() /}),
        orderNotes: makeRoute(#{jsRoute @NoteManager.orderNotes() /}),
        rename: makeRoute(#{jsRoute @NoteManager.rename() /}),
        remove: makeRoute(#{jsRoute @NoteManager.remove() /}),
        saveNote: makeRoute(#{jsRoute @Edit.saveNote() /}),
        editNote: makeRoute(#{jsRoute @Edit.editNote(':id') /})
    };
}());
