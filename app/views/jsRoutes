var noteMe = noteMe || {};
(function() {
    
    var makeRoute = function(jsr) {
        var urlMethod = jsr.url;
        jsr.type = jsr.method;
        delete(jsr.method);
        return {
            ajax: function(obj) {
                jsr.url = urlMethod.apply({},obj?obj.urlParams:{});
                $.ajax($.extend(jsr,obj));
            }   
        };
    };
    
    noteMe.jsRoutes = {
        newNotebook: makeRoute(#{jsRoute @NoteManager.newNotebook() /}),
        saveNewNotebook: makeRoute(#{jsRoute @NoteManager.saveNewNotebook() /}),
        newNote: makeRoute(#{jsRoute @NoteManager.newNote() /}),
        saveNewNote: makeRoute(#{jsRoute @NoteManager.saveNewNote() /}),
        shareNote: makeRoute(#{jsRoute @NoteManager.shareNote() /}),
        orderNotebooks: makeRoute(#{jsRoute @NoteManager.orderNotebooks() /})
    };
}());
